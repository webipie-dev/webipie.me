<div class="row">
  <div class="col-xl-6">
    <div class="card card-box mb-5">
      <div class="card-body p-0">
        <div class="row mt-3">
          <div class="col">
            <div class="text-center">
              <div>
                <fa-icon [icon]="['fas', 'user']" class="font-size-xxl text-success"></fa-icon>
              </div>
              <div class="mt-3 line-height-sm">
                <b class="font-size-lg">{{nusers}}</b>
                <span class="text-black-50 d-block">users</span>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="text-center">
              <div>
                <fa-icon [icon]="['fas', 'eye']" class="font-size-xxl text-danger"></fa-icon>
              </div>
              <div class="mt-3 line-height-sm">
                <b class="font-size-lg">{{nvisits}}</b>
                <span class="text-black-50 d-block">visits</span>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="text-center">
              <div>
                <fa-icon [icon]="['fas', 'chart-bar']" class="font-size-xxl text-info"></fa-icon>
              </div>
              <div class="mt-3 line-height-sm">
                <b class="font-size-lg">{{visitsPerDay | number:'1.0-3'}}</b>
                <span class="text-black-50 d-block">visits per day</span>
              </div>
            </div>
          </div>
        </div>
        <div class="divider mt-4"></div>
      </div>
      <div class="card-footer bg-light text-center">
        <div class="pt-4 pr-4 pl-4">
          <apx-chart
            [chart]="{
                                        type: 'line',
                                        height: '100',
                                        sparkline: {
                                            enabled: true
                                        }
                                    }"
            [colors]="['#3c44b1']"
            [markers]="{
                                        size: 0
                                    }"
            [series]="visits"
            [stroke]="{
                                            curve: 'smooth',
                                            width: 4
                                    }"
            [xaxis]="{
                                        crosshairs: {
                                            width: 1
                                        }
                                    }"
            [yaxis]="{
                                        min: 0
                                    }"
          ></apx-chart>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-6">
    <div class="card card-box mb-5">

      <div>
        <div class="card-header">
          <div class="card-header--title font-weight-bold">
            Countries
          </div>
        </div>
        <perfect-scrollbar [autoPropagation]="true" class="scroll-area-sm mb-2">
          <div class="table-responsive">
            <table class="table table-hover text-nowrap table-borderless mb-0">
              <thead>
              <tr>
                <th style="width: 150px;">Country</th>
                <th>Visits</th>
                <th>% Visits</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let countryVisit of visitsPerCountry">
                <td>
                  <div class="align-box-row">
                    <span class="flag-icon" [class]="countryVisit.icon"></span>
                  </div>
                </td>
                <td>
                  <div class="d-flex align-items-center font-size-lg">
                    <small class="text-black-50 d-block">{{countryVisit.count}}</small>
                  </div>
                </td>
                <td>
                  <div class="align-box-row">
                    <div class="text-dark pl-2">{{countryVisit.count / nvisits | percent}}</div>
                  </div>
                </td>

              </tr>
              </tbody>
            </table>
          </div>
        </perfect-scrollbar>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="table-responsive col-xl-6">
    <table class="table table-hover table-striped table-bordered mb-5">
      <thead class="thead-light">
      <tr>
        <th scope="col">Country</th>
        <th scope="col">IP</th>
        <th scope="col">Last Visit</th>
        <th scope="col">Visits</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let userVisit of userVisits">
        <th scope="row">
          <div class="align-box-row">
            <span class="flag-icon" [class]="userVisit.icon"></span>&nbsp;
            <span>{{userVisit.country}}</span>
          </div>
        </th>
        <td>{{userVisit.ip}}</td>
        <td>{{userVisit.date | date:'medium'}}</td>
        <td>{{userVisit.count}}</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="col-xl-6">
  <app-section-toggles></app-section-toggles>
  </div>

</div>
